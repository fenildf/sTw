# sTw #
一个简单的基于jQuery+css+javascript+xml 等技术实现的在线测试前端。

## 技术设计 ##
一份测试的题保存在xml文档中（也可以是由其他程序按格式提供），可以按需加载，支持通过配置定义部分属性，从而实现一定的特殊应用。

支持判断、单选、多选题型（不定项）等客观题型，可以根据配置实现题目乱序（同一题型下）、和题目选项乱序。

因为是客户端测试判断正误，所以所有答案实际上是客户端可见的，不过这个问题可以根据一些手段进行加强，减低可读性（加密，转编码等等），实现不那么重要的测试中可用。

## 用途 ##
一般性练习测试

## 试卷（练习）设计 ##
详细请参考`test1.xml`中的内容

### 试卷概览 ###
一份试卷是一个标准的XML文档，为了显示和处理的方便，必须采用UTF-8编码，其采用如下的自定义XML标签(格式)：
>
 	   <?xml version="1.0" encoding="utf-8"?>
	<shijuan title="测试题">
		<list class="t1" title="题型1" danfen="1" shuoming="这是题型1，每题x分，共X分，多选错选均不得分">
        	<t class="t1">
				<tigan>这是题1</tigan>
					<sl>选项1</sl>
                    <sl isok="1">选项2</sl>
					<sl>选项3</sl>
					<sl>选项4</sl>
            </t>
            <t ...>
             ...
            </t>
         <list>
         <list ...>
             ...
         </list>
     </shijuan>

其中`<shijuan>`是唯一根标签，其中包含的`<list>`数不限，而`<list>`中包含的`<t>`标签数也不限，一个`<t>`中只能包含一个`<tigan>`，和小于8（这个数还可以通过修改`stwlib.js`文件进行扩充，不过一般情况下8个也够了）个的`<sl>`标签。
### shijuan标签 ###
`<shijuan>`标签只有一个`title`属性，用于定义要显示的试卷标题

### list标签 ###
`<list>`标签是`<shijuan>`标签的子标签

主要涉及4种类型题目的定义，同一类型的定义通过`<list>`标签的不同`class`值进行整理（并表现在同一题型下）。

主要的题型有:

* 单选选择题，题型（即`calss`为`t1`，下同）
* 多选选择题（不定项选择），题型`class`为`t2`
* 判断题，题型`class`为`t3`
* 案例分析题，题型`class`为`t4`

在`<list>`标签中可以定义如下属性

* `class`:定义题型，可用值
	* `t1`:单项选择题
	* `t2`:多项（不定项）选择题
	* `t3`:判断题
	* `t4`:案例题
* `title`:定义显示的标题
* `danfen`：定义正确答题后的得分
* `shuoming`：定义要显示的说明

### t标签 ###
一个`<t>`标签定义一道题，其是`<list>`标签的子标签，其只有一个`class`属性，用于表明题型，可用值同于`<list>`标签中的`class`属性。

`<t>`标签还包括`<tigan>`和`<sl>`两个子标签

#### tigan子标签 ####
用于定义以道题的题干内容，形式为`<tigan>题干内容文字</tigan>`，理论上内容文字可以采用包含HTML标签在内的所有文字以增强内容描述能力（也包括引入图片等——不过显示效果待优化）。

一个`<t>`标签中只能有1个`<tigan>`标签。

#### sl子标签 ####
用于定义选项，基本格式是：`<sl>选项内容</sl>`，在一个`<t>`中可以有多个选项（默认对判断题外的最多8个，判断题2个，选项个数的限制可以在`stwlib.js`中调整设置）

注意为了后续乱序处理选项的方便，在选项内容中不要包含顺序描述性信息，如`A/B/C`或者`1/2/3`之类。

在`<sl>`中如果定义了`isok`属性值为`1`，则表明该选项为正确答案选项（之一）。

## 项目的应用 ##
本项目可作为纯客户端应用进行加载，入口文件是`test.html`，你也可以参照其编写自己的入口文件。在`test.html`的头部依次加载了`stwlib.css`,`config.js`,`jquery-1.7.2.min.js`(也可以加载非压缩版本，以方便调试)，`stwlib.js`等文件（文件加载的属性不能变动，否则会出错）。

在保证项目中各文件相对关系稳定的条件下，通过配置`config.js`可以实现加载不同的试卷。这里`config.js`作为应用配置文件进行使用，其为一个一般的`js`脚本，用来定义配置参数，参照项目中已有`config.js`，其包括4个可调整参数：

* xmlurl:定义要加载的题库xml文件URL地址，可以是相对地址，绝对地址，也包括完整的URI
* tirand:定义是否在一个`<list>`下对所包含的题进行随机乱序排列，值为`true`表示要乱序，值为`false`表示不乱序
* xrand:表示对一个`<t>`下所有的选项进行随机乱序排列，值为`true`表示要乱序，值为`false`表示不乱序
* t4rand:表示对`class`属性值为`t4`的`<list>`中各题是否打乱题序，值为`true`表示要乱序，值为`false`表示不乱序。注意这类题其实一般是值多个题有同样的题干（主体），一般不建议乱序。

在页面中答题提交后，在客户端会自动判分，在题型题序显示中还给出提示信息（红色背景表示错误，题号为红色表示未作答，绿色背景表示正确作答的题），题号为，并且可以浏览各题正确与否，把鼠标放置在相应提示上还可以显示正确答案。

### 项目扩展 ###
可以通过修改入口文件和`stwlib.js`实现功能的扩展，例如增加选项的可能数目，或者把判分后的结果进行进一步处理（例如提交）




